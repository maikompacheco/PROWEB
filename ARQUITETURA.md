
# üóÇÔ∏è ARQUITETURA BaseONE - Guia Completo

## üì± Fluxo de Navega√ß√£o do Projeto

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        Home / Login / Register           ‚îÇ ‚Üê Entrada
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          App.tsx (Router)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚ñº          ‚ñº          ‚ñº             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇDashboard‚îÇ ‚îÇAthletes‚îÇ ‚îÇTeams‚îÇ ‚îÇCoaches ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ          ‚îÇ        ‚îÇ          ‚îÇ
    ‚îÇ          ‚îÇ        ‚îÇ          ‚îÇ
    ‚ñº          ‚ñº        ‚ñº          ‚ñº
M√©tricas   Gerenciar  Editar    Perfil &
Din√¢micas  Atletas    Equipes   Licen√ßas
```

---

## üèóÔ∏è Estrutura de Pastas

```
PROWEB/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx         ‚úÖ [REFATORADO FASE 1]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Athletes.tsx          ‚úÖ [REFATORADO]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Teams.tsx             ‚úÖ [REFATORADO FASE 1]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Coaches.tsx           üîÑ [B√ÅSICO]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Register.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TeamDetail.tsx        üìã [FASE 2]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserProfile.tsx       üìã [FASE 2]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Settings.tsx          üìã [FASE 2]
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ B√°sicos/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Badge.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Alert.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ConfirmDialog.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Compostos/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserProfileMenu.tsx ‚úÖ [NOVO]
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardCard.tsx   ‚úÖ [NOVO]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StatsCard.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Athletes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AthleteCard.tsx     ‚úÖ [NOVO]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AthleteFormModal.tsx ‚úÖ [NOVO]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OnlineOfflineBadge.tsx ‚úÖ [NOVO]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AthleteProfile/
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Teams/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TeamCard.tsx        ‚úÖ [NOVO]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TeamEditModal.tsx   ‚úÖ [NOVO]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AthleteSelector.tsx üìã [FASE 2]
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Coaches/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ CoachCard.tsx       üìã [FASE 2]
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ CoachFormModal.tsx  üìã [FASE 2]
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppContext.tsx      (Cont√©m addTeam, updateTeam, deleteTeam)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CoachContext.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThemeContext.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AttendanceContext.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ athleteService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ teamService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coachService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ evaluationService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendanceService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categoryService.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ insightsService.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts            (Todas as interfaces)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ supabase.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                 (Router principal)
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx
‚îÇ   ‚îî‚îÄ‚îÄ index.css               (Estilos globais + Tailwind)
‚îÇ
‚îú‚îÄ‚îÄ PLANO_TRANSFORMACAO.md      üìã [Roadmap completo]
‚îú‚îÄ‚îÄ STATUS_PROJETO.md           üìä [Status atual]
‚îú‚îÄ‚îÄ FASE1_SUMARIO.md           ‚úÖ [Resumo FASE 1]
‚îú‚îÄ‚îÄ vite.config.ts
‚îú‚îÄ‚îÄ tailwind.config.cjs
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ package.json
```

---

## üîÑ Fluxo de Dados (Context API)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 Providers (App.tsx)              ‚îÇ
‚îÇ                                                  ‚îÇ
‚îÇ  ‚îú‚îÄ AuthProvider       (usu√°rio logado)         ‚îÇ
‚îÇ  ‚îú‚îÄ ThemeProvider      (dark/light)             ‚îÇ
‚îÇ  ‚îú‚îÄ AppProvider        (atletas, equipes)       ‚îÇ
‚îÇ  ‚îú‚îÄ CoachProvider      (treinadores)            ‚îÇ
‚îÇ  ‚îî‚îÄ PermissionProvider (permiss√µes)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                       ‚îÇ              ‚îÇ
    ‚ñº                       ‚ñº              ‚ñº
Pages          Components      Services
‚îú‚îÄDashboard     ‚îú‚îÄAthleteCard  ‚îú‚îÄathleteService
‚îú‚îÄAthletes      ‚îú‚îÄTeamCard     ‚îú‚îÄteamService
‚îú‚îÄTeams         ‚îú‚îÄCoachCard    ‚îú‚îÄcoachService
‚îî‚îÄCoaches       ‚îî‚îÄ...          ‚îî‚îÄ...

          useAuth()
          useApp()
          useTheme()
          useCoach()
```

---

## üìä Tipos de Dados Principais

```typescript
// Athletes
Athlete {
  id: string
  name: string
  age?: number
  category?: string        // Sub-14, Sub-16, etc
  position?: string
  teamId?: string          // Refer√™ncia √† equipe
  status?: AthleteStatus   // ACTIVE, OBSERVATION, HIGHLIGHTED
  tracking?: {...}
  createdAt?: string
}

// Teams
Team {
  id: string
  name: string             // "Equipe A"
  category?: string        // "sub_14"
  players: Athlete[]       // Atletas da equipe
  coordinator?: string     // ID do treinador
  coaches?: string[]       // IDs dos coaches
  schedule?: {...}
  createdAt?: string
}

// Coaches
Coach {
  id: string
  name: string
  email: string
  role: CoachRole          // FIELD_COACH, etc
  teamsAssigned?: string[] // IDs das equipes
  licenses?: CoachLicense[]
  status: 'active' | 'inactive' | 'suspended'
  createdAt?: string
}
```

---

## ‚úÖ Componentes por Categoria

### üé® Componentes Base (Reutiliz√°veis)
| Componente | Uso | Props Principais |
|-----------|-----|------------------|
| Button | A√ß√µes | variant, size, isLoading |
| Input | Formul√°rios | label, error, placeholder |
| Card | Containers | fullHeight, className |
| Modal | Di√°logos | isOpen, title, onClose |
| Badge | Labels | variant (primary, secondary, success) |
| Alert | Notifica√ß√µes | type (success, error, warning), message |

### üé≠ Componentes Compostos
| Componente | Uso | Status |
|-----------|-----|--------|
| Header | Navega√ß√£o topo | ‚úÖ Pronto |
| Sidebar | Menu lateral | ‚úÖ Pronto |
| UserProfileMenu | Menu usu√°rio | ‚úÖ NOVO |
| ConfirmDialog | Confirma√ß√£o | ‚úÖ Pronto |

### üìä Componentes Espec√≠ficos por P√°gina
| Componente | P√°gina | Status |
|-----------|--------|--------|
| DashboardCard | Dashboard | ‚úÖ NOVO |
| AthleteCard | Athletes | ‚úÖ NOVO |
| AthleteFormModal | Athletes | ‚úÖ NOVO |
| OnlineOfflineBadge | Athletes | ‚úÖ NOVO |
| TeamCard | Teams | ‚úÖ NOVO |
| TeamEditModal | Teams | ‚úÖ NOVO |
| AthleteSelector | Teams (FASE 2) | üìã PR√ìXIMO |
| CoachCard | Coaches | üìã PR√ìXIMO |

---

## üéØ Fluxo de Edi√ß√£o - Exemplo Equipe

```
User clica "Editar" em TeamCard
        ‚Üì
TeamCard.tsx chama onEdit(team)
        ‚Üì
Teams.tsx handleOpenForm(team)
        ‚Üì
selectedTeam = team
isFormModalOpen = true
        ‚Üì
TeamEditModal.tsx abre
        ‚Üì
useEffect popula form com team data
        ‚Üì
User edita campos (name, category, coordinator)
        ‚Üì
User clica "Atualizar"
        ‚Üì
handleSubmit() valida dados
        ‚Üì
updateTeamInContext(id, data) [AppContext]
        ‚Üì
setSuccess("Equipe atualizada com sucesso!")
        ‚Üì
Modal fecha, selectedTeam limpa
```

---

## üîê Seguran√ßa e Valida√ß√µes

### Types
- ‚úÖ TypeScript em 100%
- ‚úÖ Enums para valores fixos (AthleteStatus, CoachRole, etc)
- ‚úÖ Interfaces bem definidas

### Formul√°rios
- ‚úÖ Valida√ß√£o de campos obrigat√≥rios
- ‚úÖ Feedback visual de erros
- ‚úÖ Confirma√ß√£o antes de deletar

### State
- ‚úÖ Context API com typed values
- ‚úÖ useCallback para otimiza√ß√£o
- ‚úÖ Sem estado global desnecess√°rio

---

## üöÄ Performance

| Feature | Implementado |
|---------|-------------|
| Code Splitting | ‚ùå (Pr√≥ximo) |
| Lazy Loading | ‚ùå (Pr√≥ximo) |
| Memoization | ‚úÖ (useCallback) |
| Re-render Optimization | ‚úÖ (React.memo pronto) |
| Asset Optimization | ‚úÖ (Vite) |
| CSS Optimization | ‚úÖ (TailwindCSS purged) |

---

## üì± Responsividade

### Breakpoints (Tailwind)
- `sm`: ‚â• 640px
- `md`: ‚â• 768px
- `lg`: ‚â• 1024px
- `xl`: ‚â• 1280px

### Aplicado em
- ‚úÖ Cards em grid (1 col ‚Üí 2 cols ‚Üí 3 cols)
- ‚úÖ Bot√µes full-width em mobile
- ‚úÖ Texto responsivo (text-sm ‚Üí text-lg)
- ‚úÖ Padding responsivo (p-4 ‚Üí p-8)

---

## üé® Sistema de Cores (TailwindCSS)

```
Primary   (Azul)     : bg-blue-500, text-blue-600
Secondary (Cinza)    : bg-slate-500, text-slate-600
Success   (Verde)    : bg-emerald-500, text-emerald-600
Warning   (Laranja)  : bg-amber-500, text-amber-600
Danger    (Vermelho) : bg-red-500, text-red-600
Accent    (Rosa)     : bg-accent-500, text-accent-600
```

---

## üåô Dark/Light Theme

**Implementa√ß√£o**:
- `data-theme` attribute no HTML
- Context: `ThemeContext.tsx`
- Hook: `useTheme()`

**Aplicado em**:
- ‚úÖ Backgrounds
- ‚úÖ Textos
- ‚úÖ Bordas
- ‚úÖ Cards
- ‚úÖ Inputs
- ‚úÖ Modals

---

## üìû Como Adicionar Nova Feature

### 1Ô∏è‚É£ Criar Componente
```typescript
// src/components/MeuComponente.tsx
import Card from './Card'
import Button from './Button'

interface MeuComponenteProps {
  data: any
  onAction: () => void
}

export default function MeuComponente({ data, onAction }: MeuComponenteProps) {
  const { theme } = useTheme()
  return (
    <Card>
      {/* Seu c√≥digo aqui */}
    </Card>
  )
}
```

### 2Ô∏è‚É£ Usar em P√°gina
```typescript
// src/pages/MinhaPage.tsx
import MeuComponente from '../components/MeuComponente'

export default function MinhaPage() {
  return (
    <div>
      <MeuComponente data={data} onAction={handleAction} />
    </div>
  )
}
```

### 3Ô∏è‚É£ Adicionar no Router (App.tsx)
```typescript
<Route path="/minha-rota" element={<MinhaPage />} />
```

### 4Ô∏è‚É£ Commit
```bash
git add .
git commit -m "feat: Adicionar meu novo componente"
git push
```

---

## üèÅ Checklist de Qualidade

Antes de commitar, verificar:
- [ ] TypeScript sem erros (`npx tsc --noEmit`)
- [ ] Build funciona (`npm run build`)
- [ ] Dev server funciona (`npm run dev`)
- [ ] Componentes reutiliz√°veis
- [ ] Props bem tipadas
- [ ] Tratamento de erros
- [ ] Loading states
- [ ] Dark/Light theme testado
- [ ] Mobile responsivo testado
- [ ] Commit message clara

---

**Documento Criado**: 12 de Janeiro de 2026  
**Tech Lead**: BaseONE Sports  
**Status**: üü¢ Ativo
